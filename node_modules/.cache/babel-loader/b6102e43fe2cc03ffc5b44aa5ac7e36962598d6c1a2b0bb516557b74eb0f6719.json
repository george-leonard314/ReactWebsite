{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import apiUrl from\"../config\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const FilePreview=_ref=>{let{selectedFile}=_ref;const[previewData,setPreviewData]=useState([]);const[loading,setLoading]=useState(false);useEffect(()=>{if(selectedFile){fetchPreviewData(selectedFile);}},[selectedFile]);const fetchPreviewData=async filename=>{setLoading(true);try{const response=await fetch(`${apiUrl}/get-preview/${filename}`);const data=await response.json();setPreviewData(data);}catch(error){console.error(\"Error fetching preview data:\",error);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"File Preview: \",selectedFile]}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading preview...\"}):previewData.length>0?/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:Object.keys(previewData[0]).map(header=>/*#__PURE__*/_jsx(\"th\",{children:header},header))})}),/*#__PURE__*/_jsx(\"tbody\",{children:previewData.map((row,index)=>/*#__PURE__*/_jsx(\"tr\",{children:Object.values(row).map((value,idx)=>/*#__PURE__*/_jsx(\"td\",{children:value},idx))},index))})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No preview data available.\"})]});};export default FilePreview;","map":{"version":3,"names":["React","useState","useEffect","apiUrl","jsxs","_jsxs","jsx","_jsx","FilePreview","_ref","selectedFile","previewData","setPreviewData","loading","setLoading","fetchPreviewData","filename","response","fetch","data","json","error","console","children","length","Object","keys","map","header","row","index","values","value","idx"],"sources":["/home/g/Documents/Assignments/Group Project/ALGIAInfrastructure/website/reactjswebsite/src/components/FilePreview.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport apiUrl from \"../config\";\n\nconst FilePreview = ({ selectedFile }) => {\n  const [previewData, setPreviewData] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (selectedFile) {\n      fetchPreviewData(selectedFile);\n    }\n  }, [selectedFile]);\n\n  const fetchPreviewData = async (filename) => {\n    setLoading(true);\n    try {\n      const response = await fetch(`${apiUrl}/get-preview/${filename}`);\n      const data = await response.json();\n      setPreviewData(data);\n    } catch (error) {\n      console.error(\"Error fetching preview data:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      <h2>File Preview: {selectedFile}</h2>\n      {loading ? (\n        <p>Loading preview...</p>\n      ) : previewData.length > 0 ? (\n        <table>\n          <thead>\n            <tr>\n              {Object.keys(previewData[0]).map((header) => (\n                <th key={header}>{header}</th>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {previewData.map((row, index) => (\n              <tr key={index}>\n                {Object.values(row).map((value, idx) => (\n                  <td key={idx}>{value}</td>\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      ) : (\n        <p>No preview data available.</p>\n      )}\n    </div>\n  );\n};\n\nexport default FilePreview;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,WAAW,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAE/B,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAsB,IAArB,CAAEC,YAAa,CAAC,CAAAD,IAAA,CACnC,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAE7CC,SAAS,CAAC,IAAM,CACd,GAAIQ,YAAY,CAAE,CAChBK,gBAAgB,CAACL,YAAY,CAAC,CAChC,CACF,CAAC,CAAE,CAACA,YAAY,CAAC,CAAC,CAElB,KAAM,CAAAK,gBAAgB,CAAG,KAAO,CAAAC,QAAQ,EAAK,CAC3CF,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGf,MAAM,gBAAgBa,QAAQ,EAAE,CAAC,CACjE,KAAM,CAAAG,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClCR,cAAc,CAACO,IAAI,CAAC,CACtB,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACtD,CAAC,OAAS,CACRP,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACET,KAAA,QAAAkB,QAAA,eACElB,KAAA,OAAAkB,QAAA,EAAI,gBAAc,CAACb,YAAY,EAAK,CAAC,CACpCG,OAAO,cACNN,IAAA,MAAAgB,QAAA,CAAG,oBAAkB,CAAG,CAAC,CACvBZ,WAAW,CAACa,MAAM,CAAG,CAAC,cACxBnB,KAAA,UAAAkB,QAAA,eACEhB,IAAA,UAAAgB,QAAA,cACEhB,IAAA,OAAAgB,QAAA,CACGE,MAAM,CAACC,IAAI,CAACf,WAAW,CAAC,CAAC,CAAC,CAAC,CAACgB,GAAG,CAAEC,MAAM,eACtCrB,IAAA,OAAAgB,QAAA,CAAkBK,MAAM,EAAfA,MAAoB,CAC9B,CAAC,CACA,CAAC,CACA,CAAC,cACRrB,IAAA,UAAAgB,QAAA,CACGZ,WAAW,CAACgB,GAAG,CAAC,CAACE,GAAG,CAAEC,KAAK,gBAC1BvB,IAAA,OAAAgB,QAAA,CACGE,MAAM,CAACM,MAAM,CAACF,GAAG,CAAC,CAACF,GAAG,CAAC,CAACK,KAAK,CAAEC,GAAG,gBACjC1B,IAAA,OAAAgB,QAAA,CAAeS,KAAK,EAAXC,GAAgB,CAC1B,CAAC,EAHKH,KAIL,CACL,CAAC,CACG,CAAC,EACH,CAAC,cAERvB,IAAA,MAAAgB,QAAA,CAAG,4BAA0B,CAAG,CACjC,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAf,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}